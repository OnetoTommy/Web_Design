!function(){let e=!1,t=!1,s=!1,n=!1,o=!1;const r=document.querySelector("#searchform-dropdown"),a=r.querySelector('input[type="search"]'),c=()=>e?d():i(),i=()=>{e||o||(e=!0,s=!1,o=!0,document.body.classList.add("header-search-is-open"),r.classList.add("show"),r.classList.remove("wpex-invisible","wpex-opacity-0"),t&&(t.setAttribute("aria-expanded","true"),t.closest("li")?.classList.add("active")),"function"==typeof jQuery&&jQuery(document).trigger("show.wpex.menuSearch"),r.addEventListener("transitionend",(function e(){n=wpex.focusOnElement(r,a),o=!1,r.removeEventListener("transitionend",e)})),document.addEventListener("click",l),r.addEventListener("keydown",u))},d=()=>{e&&!o&&(e=!1,o=!0,document.body.classList.remove("header-search-is-open"),r.classList.remove("show"),r.classList.add("wpex-invisible","wpex-opacity-0"),t&&(t.setAttribute("aria-expanded","false"),t.closest("li")?.classList.remove("active"),s&&t.focus({preventScroll:!0,focusVisible:!1})),document.removeEventListener("click",l),r.removeEventListener("keydown",u),n&&(n(),n=null),o=!1)},l=e=>{e.target.closest('#searchform-dropdown,[data-wpex-toggle="theme"],a.search-dropdown-toggle,a.mobile-menu-search,.wpex-header-search-icon button')||d()},u=t=>{e&&"Escape"===t.key&&(s=!0,d())};document.querySelectorAll("a.search-dropdown-toggle,a.mobile-menu-search,.wpex-header-search-icon button").forEach((e=>{e.addEventListener("click",(s=>{s.preventDefault(),t=e,c()})),e.addEventListener("keydown",(s=>{" "===s.key&&(s.preventDefault(),t=e,c())}))}))}();